def targetBuildFile = project.hasProperty("profile") ? "${project.profile}-build.gradle" : "docker-build.gradle"
if (file(targetBuildFile).exists()) {
    apply from: targetBuildFile
}

apply from: rootProject.file("gradle-support/mapstruct.gradle")


bootRepackage {
    enabled = false
}


dependencies {
    compile project(":ifs-commons")
    compile project(":ifs-security")

    compile "org.springframework.boot:spring-boot-starter-data-jpa"
    compile "org.apache.tika:tika-parsers:1.14"
    compile "org.apache.httpcomponents:httpasyncclient"

    testCompile project(':ifs-resources').sourceSets.test.output
    testCompile project(":ifs-commons").sourceSets.test.output
    testCompile project(":ifs-security").sourceSets.test.output

    testCompile project(':ifs-resources')
    testCompile project(":ifs-commons")
    testCompile project(":ifs-security")
    testCompile "com.h2database:h2:1.4.196"
    testCompile 'org.springframework.restdocs:spring-restdocs-mockmvc'
}

