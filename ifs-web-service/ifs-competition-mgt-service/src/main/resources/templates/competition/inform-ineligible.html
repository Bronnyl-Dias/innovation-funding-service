<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Manage applications'" />
</head>

<body th:with="context='comp-management'" class="competition-management competition-overview">
<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />

<main tabindex="-1" id="content">
    <th:block th:insert="fragments/layout :: main-content-start" />
    <th:block th:insert="fragments/layout :: header-sub" th:with="linkTitle='Ineligible applications',linkClass='link-back',linkUrl=@{/competition/{competitionId}/applications/ineligible(competitionId=${model.competitionId})}" />

    <div th:if="${#fields.hasErrors('${form.*}')}" class="error-summary" role="alert" aria-labelledby="error-summary-heading" tabindex="-1">
        <h2 class="heading-medium error-summary-heading" id="error-summary-heading">Unable to send email.</h2>
        <th:block th:insert="fragments/elements :: error-summary-list(form)" />
    </div>

    <div class="page-title">
        <h1 class="heading-xlarge">
            <span class="heading-secondary" th:text="|${model.competitionId}: ${model.competitionName}|">9876: Technology inspired</span>
            Inform lead applicant
        </h1>
    </div>

    <p class="heading-medium">Application:</p>
    <p th:text="|${model.applicationId}: ${model.applicationName}|"/>

    <div class="message-alert">The following email will be sent to the lead applicant after which the application will not be available for assessment.</div>

    <p class="heading-medium" th:text="|Recipient: ${model.leadApplicant}|">Dave smith</p>

    <form th:action="@{/competition/application/{applicationId}/ineligible/send(applicationId=${model.applicationId})}" method="post" enctype="multipart/form-data" th:object="${form}">
        <div class="form-group">
            <label class="form-label-bold" for="subject">Subject</label>
            <input class="form-control width-full"
                   id="subject"
                   type="text"
                   th:field="*{subject}"
                   required="required"
                   th:attr="data-required-errormessage=#{validation.informleadapplicant.subject.required}"   />
        </div>

        <div class="form-group">
            <label class="form-label-bold" for="message">Message</label>
            <textarea id="message"
                      rows="16"
                      class="form-control width-full"
                      th:field="*{content}"
                      required="required"
                      th:attr="data-required-errormessage=#{validation.informleadapplicant.message.required}"></textarea>
        </div>

        <div class="extra-margin">
            <button type="submit" class="button">Send</button>
            <a th:href="@{/competition/{competitionId}/applications/ineligible(competitionId=${model.competitionId})}"
               class="button button-clear">Cancel</a>
        </div>
    </form>

    <th:block th:insert="fragments/layout :: main-content-end" />
</main>

<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
</body>
</html>
