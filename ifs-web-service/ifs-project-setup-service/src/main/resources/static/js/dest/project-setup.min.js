if("undefined"==typeof IFS)var IFS={};IFS.projectSetup={},IFS.projectSetup.loadOrder={"spend-profile":{init:function(){IFS.core.finance.init(),IFS.projectSetup.spendProfile.init()}},common:{init:function(){IFS.projectSetup.clearInputs.init(),IFS.projectSetup.preventInputRegex.init()}}},IFS.projectSetup.clearInputs=function(){"use strict";var t;return{settings:{clearInputsEl:"data-clear-inputs"},init:function(){t=this.settings,jQuery(document).on("change","["+t.clearInputsEl+"]",function(){var t=jQuery(this).attr("data-clear-inputs");IFS.projectSetup.clearInputs.clearInputs(t)})},clearInput:function(t){t=jQuery(t),jQuery.each(t,function(){jQuery(this).val("")})}}}(),IFS.projectSetup.preventInputRegex=function(){"use strict";var t;return{settings:{preventInputRegexEl:"data-prevent-input-regex"},init:function(){t=this.settings,jQuery(document).on("input","["+t.preventInputRegexEl+"]",function(){var e=jQuery(this),n=new RegExp(e.attr(t.preventInputRegexEl),"g"),r=e.val(),i=r.replace(n,"");e.val(i)})}}}(),IFS.projectSetup.spendProfile=function(){"use strict";var t;return{settings:{totalElement:"input[id*=row-total-],#spend-profile-total-total",message:"Your %category% costs are higher than your eligible costs."},init:function(){t=this.settings,jQuery("body").on("change",t.totalElement,function(){IFS.projectSetup.spendProfile.checkSpend(this)}),jQuery("body").on("focus",t.totalElement,function(){jQuery(this).closest("tr").find("input").first().focus()})},checkSpend:function(e){var n=jQuery(e),r=n.closest("td"),i=parseInt(n.attr("data-calculation-rawvalue"),10),o=parseInt(r.next().find("input").attr("data-calculation-rawvalue"),10),a=n.closest("tr").find('th span:not(".error-message")').text().toLowerCase(),u=t.message;u=u.replace("%category%",a),i>o?(r.addClass("cell-error"),IFS.core.formValidation.setInvalid(n,u,"show")):(r.removeClass("cell-error"),IFS.core.formValidation.setValid(n,u,"show"))}}}();