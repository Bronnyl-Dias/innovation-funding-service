<!DOCTYPE html>
<html lang="en" class="govuk-template" xmlns:th="http://www.w3.org/1999/xhtml">
    <head>
        <th:block th:insert="fragments/layout :: head" th:with="pageTitle='Dual user choice',hasFormErrors=${#fields.hasErrors('${form.*}')}" />
    </head>

    <body class="govuk-template__body app-overview">
        <th:block th:insert="fragments/layout :: body-start" />
        <th:block th:insert="fragments/layout :: global-header" th:with="hideDashboardLink=true" />

        <div class="govuk-width-container">
            <th:block th:insert="fragments/layout :: phase-banner" />

            <main class="govuk-main-wrapper" id="main-content" role="main">
                <div th:if="${#fields.hasErrors('${form.*}')}" class="error-summary" role="alert" aria-labelledby="error-summary-heading" tabindex="-1">
                    <h2 class="govuk-heading-m error-summary-heading"  id="error-summary-heading">We were unable to log you in to your account.</h2>
                    <th:block th:insert="fragments/elements :: error-summary-list(form)" />
                </div>

                <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle='Sign in successful',size='govuk-heading-xl'" />
                <p>Thank you for signing into the Innovation Funding Service.</p>

                <form th:action="@{/roleSelection}" method="post" th:object="${form}" class="extra-margin" novalidate="novalidate">

                    <div class="form-group" th:classappend="${#fields.hasErrors('selectedRole')} ? form-group-error">
                        <fieldset class="inline">
                            <legend id="selectedRole">
                                <span class="govuk-heading-s">Please choose the role you are signing in as today</span>
                                <th:block th:if="${#fields.hasErrors('selectedRole')}">
                                    <span class="error-message" th:each="err : ${#fields.errors('selectedRole')}" th:text="${err}"/>
                                </th:block>
                            </legend>
                            <div class="multiple-choice" th:each="role : ${model.ACCEPTED_ROLES}">
                                <input th:field="*{selectedRole}" th:value="${role}" type="radio" required="required" th:attr="data-required-errormessage=#{validation.standard.role.required}" />
                                <label th:for="${#ids.prev('selectedRole')}" th:text="${role.displayName}"></label>
                            </div>
                        </fieldset>
                    </div>

                    <button type="submit" class="button" id="continue">Continue</button>
                </form>

                <th:block th:insert="fragments/layout :: main-content-end" />
            </main>
        </div>

        <th:block th:insert="fragments/layout :: footer" />
        <th:block th:insert="fragments/layout :: body-end" />
    </body>
</html>
