<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <th:block th:with="errorPrefix=${#fields.hasErrors('${resetPasswordRequestForm.*}')} ? 'Error: ' : ''">
    <th:block th:insert="fragments/layout :: head" th:with="pageTitle=|${errorPrefix}Forgotten password|" />
  </th:block>
</head>
<body th:with="context='applicant'" class="sign-in">

<th:block th:insert="fragments/layout :: body-start" />
<th:block th:insert="fragments/layout :: global-header" />

<main tabindex="-1" id="content">
    <th:block th:insert="fragments/layout :: main-content-start" />


    <div th:if="${#fields.hasErrors('${resetPasswordRequestForm.*}')}" class="error-summary" role="alert" aria-labelledby="error-summary-heading" tabindex="-1">
        <h2 class="heading-medium error-summary-heading"  id="error-summary-heading">We are unable to createa a new password</h2>
        <ul class="error-summary-list">
            <li th:each="err : ${#fields.detailedErrors('${resetPasswordRequestForm.*}')}">
                <th:block th:if="${err.global}" th:text="${err.message}">Non-field specific message</th:block>
                <a th:if="${err.fieldName}" th:href="|#${err.fieldName}|" th:text="${err.message}">The error message</a>
            </li>
        </ul>
    </div>

    <th:block th:insert="fragments/layout :: page-title" th:with="pageTitle='Forgotten password',size='heading-xlarge'" />

    <p>
      Forgotten your password? If you have an Innovation Funding Service account, please enter the email address you used to create the account.
      We will send a password reset link to this email address which will allow you to create a new password.
    </p>
    <form th:action="@{${#ifsUtil.formPostUri(#httpServletRequest)}}" th:object="${resetPasswordRequestForm}" method="POST" novalidate="novalidate">
        <div class="form-group" th:classappend="${#fields.hasErrors('email')} ? 'form-group-error'">
            <label class="form-label" th:for="${#ids.next('email')}">
                <span class="form-label-bold">Enter email address</span>
                <th:block th:if="${#fields.hasErrors('email')}">
                      <span class="error-message"  th:each="err : ${#fields.errors('email')}" th:text="${err}" />
                </th:block>
            </label>
            <input class="form-control form-control-3-4"
                   th:errorclass="form-control-error"
                   type="email"
                   th:field="*{email}"
                   required="required"
                   th:attr="data-required-errormessage=#{validation.standard.email.required},
                            data-email-errormessage=#{validation.standard.email.format}" />
        </div>
        <button class="button" type="submit">Send password reset email"</button>
    </form>


    <th:block th:insert="fragments/layout :: main-content-end" />
</main>

<th:block th:insert="fragments/layout :: footer" />
<th:block th:insert="fragments/layout :: body-end" />
</body>
</html>
