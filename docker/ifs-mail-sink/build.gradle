apply from: rootProject.file("gradle-support/openshift-build.gradle")
tagDocker.onlyIf { !isNamedEnv() }
tagDocker.tag = mailSinkVersion
tagDockerLocal.tag = mailSinkVersion
osStageRemote.onlyIf { !isNamedEnv() }
osStageRemote.tag = mailSinkVersion
osStageLocal.tag = mailSinkVersion

createContainer.hostName="mail"
createContainer.containerName="mail"
createContainer.containerId="mail"
createContainer.portBindings = ['8765:8080',  "9876:8143"]

buildDocker.onlyIf{project.hasProperty('initialise')? project.property('initialise').toBoolean() : false}
stop.onlyIf{project.hasProperty('initialise')? project.property('initialise').toBoolean() : false}
removeContainer.onlyIf{project.hasProperty('initialise')? project.property('initialise').toBoolean() : false}
createContainer.onlyIf{project.hasProperty('initialise')? project.property('initialise').toBoolean() : false}
deploy.onlyIf{project.hasProperty('initialise')? project.property('initialise').toBoolean() : false}
