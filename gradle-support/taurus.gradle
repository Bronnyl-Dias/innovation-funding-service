ext.openshiftEnv = project.properties['openshiftEnv'] ?: "automated"

ext.server_url = project.properties['server_url'] ?: "ifs.local-dev"
ext.authorisation_url = project.properties['authorisation_url'] ?: "auth.local-dev:9443"

task prepareTaurusDeployment(type: Copy) {

    destinationDir = file('./')

    from('taurus') {
        include '**/taurus.yml'
    }
    filesMatching("**/**.*") {
        expand project.properties
    }
}

task osRunTaurus(type: Exec) {
    dependsOn prepareTaurusDeployment
    executable = 'setup-files/scripts/openshift/os-taurus.sh'
}